<div class="row">
    <div class="col-12">
        <nav aria-label="breadcrumb" role="navigation">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="#" @click.prevent="showAll">全部</a>
                </li>
                <li v-if="chosenClass!=0" class="breadcrumb-item active" aria-current="page">{{ classNumToText(chosenClass) }}</li>
                <li class="ml-4"><span class="badge badge-info">共有 {{ searchKeyWord.length }} 筆資料</span></li>
            </ol>
        </nav>
    </div>
    <div class="col-12 mb-3">
        <span class="badge">
            <img src="../img/sort_logo-01.png"style="max-height:40px;"/>
            <!-- 時間排序 -->
            <select v-model.number="timeSort" class="ml-2" style="height:40px;">
                <option value=1>新 → 舊</option>
                <option value=0>舊 → 新</option>
            </select>
        </span>
    </div>
</div>
<div class="row">
    <template v-if="searchKeyWord.length!=0">
        <div class="col-12" v-for="list in finalData">
            <div class="row border rounded mb-2 p-2">
                <div class="col-md-3 mb-2 mb-md-0">
                    <!-- <img class="border rounded img-fluid" src="http://media.viralcham.com/wp-content/uploads/2017/08/10124047/ecoforestwbbrevjs5.png" alt="Card image cap"> -->
                    <img class="border rounded img-fluid" :src="list.image" alt="圖片載入錯誤">
                </div>
                <div class="col-md-9">
                    <h4 class="card-title">{{ list.name }}</h4>
                    <span class="badge badge-success mb-2">{{ classNumToText(list.classification_id) }}</span>
                    <p><span class="badge">{{ list.time_interval_LB.slice(0, 10).replace(/-/g,"/") }}</span>
                        <span class="badge badge-light">{{ timeFormat(list.time_interval_LB.slice(11, 13)) }}</span> ~ <span class="badge">{{ list.time_interval_UB.slice(0, 10).replace(/-/g,"/")
                        }}</span>
                        <span class="badge badge-light">{{ timeFormat(list.time_interval_UB.slice(11, 13)) }}</span>
                    </p>
                    <p class="card-text d-none d-md-block"><span class="badge list_title">描述:</span> <span class="badge" style="white-space: normal; text-align: left">{{ textIsEmpty(list.description) }}</span></p>
                    <p class="card-text text-truncate d-block d-md-none">
                        <button style="cursor: pointer" class="btn btn-light btn-sm mr-1" data-toggle="collapse" :data-target="'#'+list.ID" aria-expanded="false"><span class="badge list_title">描述
</span>                            <i class="fa fa-caret-down" aria-hidden="true"></i>
                        </button>
                        <span class="badge">{{ textIsEmpty(list.description) }}</span>
                    </p>
                    <div class="collapse" :id="list.ID">
                        <div class="card card-body mb-3 bg-light">
                            {{ textIsEmpty(list.description) }}
                        </div>
                    </div>
                    <p class="card-text text-truncate"><span class="badge list_title">地點:</span> <span class="badge">{{ textIsEmpty(list.location) }}</span></p>
                    <% if(user) { %>
                    <div class="text-right">
                        <a href="#" class="btn btn-secondary" @click.prevent="autoFillIn(list)" data-toggle="modal" data-target="#editForm">編輯</a>
                        <a href="#" class="btn btn-danger" @click.prevent="delDetail(list.ID)">刪除</a>
                    </div>
                    <% } %>
                </div>
            </div>
        </div>
    </template>
    <template v-else-if="searchKeyWord.length==0">
        <div class="col-12">
            <div class="alert alert-info">
                目前還沒有遺失物喔
            </div>
        </div>
    </template>
    <div class="col-12 text-center mb-3 mobile" v-if="searchKeyWord.length != 0">
        <a href="#" class="btn btn-light mobile-view mobile-next" @click="dataIndex=dataIndex+1" v-if="dataIndex==1 && (!checkEnd())">下一頁</a>
        <div v-else-if="dataIndex>1">
            <a href="#" class="btn btn-light mobile-view mobile-previous" @click="dataIndex=dataIndex-1">上一頁</a>
            <span class="text-white bg-info mobile-view mobile-current" style="
                display: inline-block;
                font-weight: 400;
                text-align: center;
                white-space: nowrap;
                vertical-align: middle;
                user-select: none;
                border: 1px solid transparent;
                padding: .375rem .75rem;
                font-size: 1rem;
                line-height: 1.5;
                ">第 {{ dataIndex }} 頁</span>
            <a href="#" class="btn btn-light mobile-view mobile-next" @click="dataIndex=dataIndex+1" v-if="(!checkEnd())">下一頁</a>
        </div>
    </div>
</div>