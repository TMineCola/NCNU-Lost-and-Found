<div class="row">
    <div class="col-12">
        <nav aria-label="breadcrumb" role="navigation">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="#" @click.prevent="showAll">全部</a>
                </li>
                <li v-if="chosenClass!=0" class="breadcrumb-item active" aria-current="page">{{ classNumToText(chosenClass) }}</li>
                <li class="ml-4"><span class="badge badge-info">共有 {{ searchKeyWord.length }} 筆資料</span></li>
                <li class="ml-auto">
                    <select v-model.number="timeSort" style="height:25px;">
                        <option value=1>新 → 舊</option>
                        <option value=0>舊 → 新</option>
                    </select>
                </li>
            </ol>
        </nav>
    </div>
</div>
<div class="row">
    <template v-if="searchKeyWord.length!=0">
        <div class="col-md-6 mb-4"v-for="list in finalData">
            <div class="card">
                <div class="card-img-top" v-bind:style="{ 'background-image': 'url(' + list.image + ')' }">
                </div>
                <div class="card-body px-4">
                    <div class="d-flex card-title">
                        <h4 class="mr-auto text-truncate">{{ list.name }}</h4>
                    </div>
                    <div class="card-text">
                        <div class="mb-2">
                            <span class="mt-2 p-2 float-right badge badge-success mb-2"><i class="fa fa-tag"></i>&nbsp;&nbsp;{{ classNumToText(list.classification_id) }}</span>
                            <span class="badge list_title">時間:</span><br/>
                            <span class="badge ">{{list.time_interval_LB.slice(5, 10).replace(/-/g,"/") }}</span><span class="badge badge-light">{{ timeFormat(list.time_interval_LB.slice(11, 13)) }}</span>
                            ~
                            <span class="badge">{{list.time_interval_UB.slice(5, 10).replace(/-/g,"/")}}</span><span class="badge badge-light">{{timeFormat(list.time_interval_UB.slice(11, 13))}}</span>
                            <div class="card-text text-truncate"><span class="badge list_title">地點：</span> <span class="badge">{{ textIsEmpty(list.location) }}</span></div>
                            <div class="card-text text-truncate d-block d-md-block">
                                <a data-toggle="collapse" :data-target="'#a'+list.ID" >
                                    <button style="cursor: pointer" class=" btn btn-light btn-md mr-1" data-toggle="collapse" :data-target="'#'+list.ID" aria-expanded="false">
                                        <span class="badge list_title">描述</span>
                                        <i class="fa fa-caret-down" aria-hidden="true"></i>
                                    </button>
                                </a>
                                <div class="collapse text-truncate show" :id="'a'+list.ID">
                                    <span class="badge" :id="'a'+list.ID">{{ textIsEmpty(list.description) }}</span>
                                </div>
                            </div>
                            <div class="collapse" :id="list.ID">
                                <!-- <div class="card card-body mb-3 bg-light"> -->
                                    <span class="wraptext badge badge-light">{{ textIsEmpty(list.description) }}</span>
                                    <!-- {{ textIsEmpty(list.description) }} -->
                                <!-- </div> -->
                            </div>
                            <% if(user) { %>
                            <div class="text-right">
                                <a href="#" class="btn btn-secondary" @click.prevent="autoFillIn(list)" data-toggle="modal" data-target="#editForm">編輯</a>
                                <a href="#" class="btn btn-danger" @click.prevent="delDetail(list.ID)">刪除</a>
                            </div>
                            <% } %>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>
    <template v-else-if="searchKeyWord.length==0">
        <div class="col-12">
            <div class="alert alert-info">
                目前還沒有遺失物喔
            </div>
        </div>
    </template>
</div>
<div class="container mobile" v-if="searchKeyWord.length != 0">
    <div class="col-4 offset-8" v-if="dataIndex==1 && (!checkEnd())">
        <a class="mobile-view text-left" href="#" @click="dataIndex=dataIndex+1" >></a>
    </div>
    <div class="row"v-else-if="dataIndex>1">
        <div class="col-4 text-right" href="#" ><a class="btn mobile-view" @click="dataIndex=dataIndex-1"><</a></div>
        <div class="col-4 text-center "><a class="btn mobile-view">第{{ dataIndex }}頁</a></div>
        <div class="col-4 text-left" href="#" v-if="(!checkEnd())"><a class="btn mobile-view" @click="dataIndex=dataIndex+1" >></a></div>
    </div>
</div>